<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[verilog_secret_box]]></title>
    <url>%2F2019%2F10%2F07%2Fverilog-secret-box%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135// ********************************************************************// &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; COPYRIGHT NOTICE &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;// ********************************************************************// File name : secret_box.v// Module name : secret_box// Author : Charlotte2000s// Description : a safe box// Web : Charlotte2000s.github.io// // --------------------------------------------------------------------// Code Revision History : // --------------------------------------------------------------------// Version: |Mod. Date: |Changes Made:// V1.0 |2019/10/7 |Initial ver// --------------------------------------------------------------------// Module Function:安全的密码箱module secret_box(led, segdata, rst, clk, segled, key_pulse, ce); input [3:0] segdata; input clk; input rst; input key_pulse; input ce; output led; output [8:0] segled; reg [8:0] seg [15:0]; reg [15:0] cnt; reg [1:0] ini_cnt; //segment 模块 initial begin seg[0] = 9'h3f; //对存储器中第一个数赋值9'b00_0011_1111,相当于共阴极接地，DP点变低不亮，7段显示数字0 seg[1] = 9'h06; //7段显示数字 1 seg[2] = 9'h5b; //7段显示数字 2 seg[3] = 9'h4f; //7段显示数字 3 seg[4] = 9'h66; //7段显示数字 4 seg[5] = 9'h6d; //7段显示数字 5 seg[6] = 9'h7d; //7段显示数字 6 seg[7] = 9'h07; //7段显示数字 7 seg[8] = 9'h7f; //7段显示数字 8 seg[9] = 9'h6f; //7段显示数字 9 seg[10] = 9'h77; //7段显示数字 a seg[11] = 9'h7c; //7段显示数字 b seg[12] = 9'h39; //7段显示数字 c seg[13] = 9'h5e; //7段显示数字 d seg[14] = 9'h79; //7段显示数字 e seg[15] = 9'h71; //7段显示数字 f end assign segled = seg[segdata]; //segment u1 (.seg_data(segdata), .seg_led(flag)); //breath_led u2 (.clk(clk), .rst(rst), .led(flag)); //按键确认 always@(negedge ce) begin if(segdata !==4'b0110) ini_cnt &lt;= 0; else ini_cnt &lt;= 1; end always @ (posedge key_pulse) begin if (segdata == 4'b0110) begin //segment right; cnt &lt;= 0; end else begin //breath_led wrong; cnt &lt;= cnt + 1; end end //breath_led 模块 reg [24:0] cnt1; //计数器1 reg [24:0] cnt2; //计数器2 reg flag; //呼吸灯变亮和变暗的标志位 parameter CNT_NUM = 2400; //计数器的最大值 period = (2400^2)*2 = 24000000 = 2s //产生计数器cnt1 always@(posedge clk or negedge rst) begin if(!rst) begin cnt1&lt;=13'd0; end else begin if(cnt1&gt;=CNT_NUM-1) cnt1&lt;=1'b0; else cnt1&lt;=cnt1+1'b1; end end //产生计数器cnt2 always@(posedge clk or negedge rst) begin if(!rst) begin cnt2&lt;=13'd0; flag&lt;=1'b0; end else begin if(cnt1==CNT_NUM-1) begin //当计数器1计满时计数器2开始计数加一或减一 if(!flag) begin //当标志位为0时计数器2递增计数，表示呼吸灯效果由暗变亮 if(cnt2&gt;=CNT_NUM-1) //计数器2计满时，表示亮度已最大，标志位变高，之后计数器2开始递减 flag&lt;=1'b1; else cnt2&lt;=cnt2+1'b1; end else begin //当标志位为高时计数器2递减计数 if(cnt2&lt;=0) //计数器2级到0，表示亮度已最小，标志位变低，之后计数器2开始递增 flag&lt;=1'b0; else cnt2&lt;=cnt2-1'b1; end end else cnt2&lt;=cnt2; //计数器1在计数过程中计数器2保持不变 end end //比较计数器1和计数器2的值产生自动调整占空比输出的信号，输出到led产生呼吸灯效果 assign led = ((cnt1&lt;cnt2)&amp;(cnt == 0)&amp;(ini_cnt == 0))?1'b0:1'b1; endmodule]]></content>
  </entry>
  <entry>
    <title><![CDATA[first-blog]]></title>
    <url>%2F2019%2F10%2F01%2Ffirst-blog%2F</url>
    <content type="text"></content>
      <categories>
        <category>分类1</category>
        <category>分类2</category>
      </categories>
      <tags>
        <tag>标签1</tag>
        <tag>标签2</tag>
        <tag>标签3</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2019%2F10%2F01%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
</search>
